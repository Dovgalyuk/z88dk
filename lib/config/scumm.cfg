#
# Target configuration file for z88dk
#

# ZX has a custom maths library
Z88MATHFLG      -D__NATIVE_MATH__
Z88MATHLIB      mzx

# Asm file which contains the startup code (without suffix)
# Not supported in classic library
CRT0		 DESTDIR/lib/scumm_crt0

# Any default options you want - these are options to zcc which are fed
# through to compiler, assembler etc as necessary
OPTIONS   -mz80n -O2 -SO2 -iquote. -D__Z88DK -D__ZXNEXT -D__Z80 -DZ80 -D__Z80N -subtype=default -clib=sdcc_iy

# Add special post-processing for z80n cpu
COPTRULESCPU    DESTDIR/lib/z80n_rules.2

CLIB      sdcc_iy -compiler=sdcc --reserve-regs-iy -D__SDCC -D__SDCC_IY -Ca-D__SDCC_IY -Cl-D__SDCC_IY -nostdlib -isystemDESTDIR/include/_DEVELOPMENT/sdcc -Ca-IDESTDIR/libsrc/_DEVELOPMENT/target/scumm -lscumm -LDESTDIR/libsrc/_DEVELOPMENT/lib/sdcc_iy -Cl-IDESTDIR/libsrc/_DEVELOPMENT/target/scumm -crt0=DESTDIR/libsrc/_DEVELOPMENT/target/scumm/scumm_crt.asm.m4

SUBTYPE   nex     -Cz"+zxn --nex"
SUBTYPE   scumm     -Cz"+scumm --nex"

INCLUDE alias.inc
